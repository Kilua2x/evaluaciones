<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Integrado de Evaluación Kinesiológica</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        h1, h2, h3 { color: #2c3e50; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th { background-color: #f2f2f2; }
        input[type="text"], input[type="number"], input[type="date"], select, textarea {
            width: 100%;
            padding: 5px;
            margin: 5px 0;
        }
        textarea { height: 100px; }
        .section { margin-bottom: 30px; }
        .nota-final {
            font-weight: bold;
            font-size: 1.2em;
            color: #007bff;
        }
        .competencia-card {
            background-color: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .progress-bar {
            width: 100%;
            background-color: #f0f0f0;
            margin: 5px 0;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress {
            height: 20px;
            background-color: #4CAF50;
            text-align: center;
            line-height: 20px;
            color: white;
            transition: width 0.5s ease-in-out;
        }
        .correlation-section {
            background-color: #f9f9f9;
            padding: 20px;
            margin-top: 30px;
            border-radius: 5px;
        }
        .firma {
            border-top: 1px solid #000;
            margin-top: 50px;
            padding-top: 10px;
        }
        .error {
            border-color: red;
            background-color: #ffe6e6;
        }
        @media print {
            .no-print { display: none; }
        }
    </style>
</head>
<body>
    <h1>Internado Clínico</h1>
    <h2>Carrera de Kinesiología</h2>
    <h3>Pauta de evaluación</h3>

    <div class="section">
        <h2>I. Identificación del/la estudiante</h2>
        <table>
            <tr>
                <td>Nombre:</td>
                <td><input type="text" id="nombre"></td>
                <td>Fecha:</td>
                <td><input type="date" id="fecha"></td>
            </tr>
            <tr>
                <td>Servicio:</td>
                <td><input type="text" id="servicio"></td>
            </tr>
            <tr>
                <td>Campo clínico:</td>
                <td><input type="text" id="campo_clinico"></td>
            </tr>
            <tr>
                <td>Docente clínica:</td>
                <td><input type="text" id="docente_clinica"></td>
            </tr>
            <tr>
                <td>Docente universidad:</td>
                <td><input type="text" id="docente_universidad"></td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>II. Pauta de evaluación de desempeño práctica clínica V:</h2>
        <table id="evaluacion">
            <tr>
                <th>Dimensión</th>
                <th>Criterios de evaluación</th>
                <th>Niveles de logro (0-4)</th>
            </tr>
            <!-- CONDUCTUAL Y PERSONAL -->
            <tr>
                <td rowspan="17">CONDUCTUAL Y PERSONAL</td>
                <td>Demuestra interés en la búsqueda de oportunidades de aprendizaje.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="1,5"></td>
            </tr>
            <tr>
                <td>Demuestra autocrítica en el desarrollo de sus actividades.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Aplica principios éticos en su quehacer como kinesiólogo(a).</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="6"></td>
            </tr>
            <!-- Continuar con los demás items de CONDUCTUAL Y PERSONAL -->
            <!-- Continuación de CONDUCTUAL Y PERSONAL -->
            <tr>
                <td>Reconoce opiniones constructivas de parte de la supervisión del/la docente.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Práctica las observaciones y/o sugerencias proporcionadas por el/la docente.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Demuestra interés por trabajar en equipo, desarrollando habilidades como la comunicación asertiva y resolución de problemáticas.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="5,6"></td>
            </tr>
            <tr>
                <td>Mantiene una relación cordial y formal entre docentes y pares.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="5,6"></td>
            </tr>
            <tr>
                <td>Cumple puntualmente con su horario acordado. En caso de inasistencia y/o atrasos, da cuenta de ello justificándolos cuando corresponda a sus autoridades respectivas.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="5"></td>
            </tr>
            <tr>
                <td>Utiliza el uniforme según normativa establecidas, respetando la reglamentación del servicio clínico.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="6"></td>
            </tr>
            <tr>
                <td>Utiliza un adecuado lenguaje técnico, formal y escrito, considerando el nivel formativo en el que se encuentra.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="5"></td>
            </tr>
            <tr>
                <td>Mantiene la privacidad del usuario(a) y su familia durante la atención kinésica.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="2,6"></td>
            </tr>
            <tr>
                <td>Informa cada una de las actividades propias relacionadas a la kinesiología, explicando sus detalles al usuario(a).</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="2,5"></td>
            </tr>
            <tr>
                <td>Informa oportunamente en caso de cometer algún error u omisión en su quehacer como practicante de kinesiología.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="4,6"></td>
            </tr>
            <tr>
                <td>Respeta la autonomía del usuario(a), si esta es solicitada.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="2,6"></td>
            </tr>
            <tr>
                <td>Demuestra empatía por el/la usuario(a), expresando preocupación por las necesidades del/la mismo/a.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="2,6"></td>
            </tr>
            <tr>
                <td>Educa al usuario(a) y su familia en actividades propias relacionadas con su quehacer de la kinesiología.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="2,3"></td>
            </tr>
            <tr>
                <td>Mantiene una relación cordial y formal con el/la usuario(a) y su familia.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal" data-competencia="5,6"></td>
            </tr>

            <!-- EVALUACIÓN INTEGRAL -->
            <tr>
                <td rowspan="6">EVALUACIÓN INTEGRAL; DESEMPEÑO Y COMPETENCIAS</td>
                <td>Trabaja en forma eficiente y sus resultados son buenos. Genera informes y documentos con orden, buena redacción, ortografía y calidad gramatical, consistentes, pertinentes respecto de la coherencia y congruencia de los contenidos y datos.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Demuestra autonomía y capacidad para resolver problemas y/o proponer alternativas novedosas, cuando ha tenido la oportunidad.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Corrige sus errores ante la sugerencia de su supervisor/a y se da cuenta de su propio aprendizaje.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Demuestra conocimientos y habilidades en la realización de las actividades delegadas.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral" data-competencia="1,2"></td>
            </tr>
            <tr>
                <td>Entiende las situaciones y desafíos, con sus amenazas y oportunidades. Identifica la visión, valores y prioridades institucionales.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral" data-competencia="4,6"></td>
            </tr>
            <tr>
                <td>Entiende cómo reconocer y mitigar o evitar las distintas problemáticas a los que es sometido en la cotidianeidad del contexto laboral.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral" data-competencia="4,5"></td>
            </tr>

            <!-- DOMINIO Y GESTIÓN 1 -->
            <tr>
                <td rowspan="10">DOMINIO Y GESTIÓN DE CONOCIMIENTOS GENERALES Y TÉCNICOS (PARA INTERNADO CLÍNICO I)</td>
                <td>Aplica, integra, profundiza y perfecciona los conocimientos y habilidades adquiridas a lo largo de los distintos semestres académicos de la carrera.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="1,2,3,4"></td>
            </tr>
            <tr>
                <td>Efectúa evaluación de usuarios(as), aplicando el razonamiento clínico y formulando diagnóstico kinésico y objetivos generales y específicos.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="1,2"></td>
            </tr>
            <!-- Continuar con los demás items de DOMINIO Y GESTIÓN 1 -->
            <!-- Continuación de DOMINIO Y GESTIÓN 1 -->
            <tr>
                <td>Diseña, aplica y evalúa programas de rehabilitación kinésica, formulando objetivos operacionales a corto, mediano y largo plazo.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="2,3"></td>
            </tr>
            <tr>
                <td>Diseña, ejecuta y evalúa actividades vinculadas con la prevención y promoción en salud.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="3"></td>
            </tr>
            <tr>
                <td>Aplica criterios y herramientas de gestión en kinesiología.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="2,4"></td>
            </tr>
            <tr>
                <td>Rehabilita de manera integral al usuario(a) con patología musculoesquelética ambulatoria, adulto y pediátrico.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="1,2"></td>
            </tr>
            <tr>
                <td>Rehabilita de manera integral al usuario(a) con patología cardiorrespiratoria ambulatoria, adulto y pediátrico.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="1,2"></td>
            </tr>
            <tr>
                <td>Rehabilita de manera integral al usuario(a) con patología neurológica ambulatoria, adulto y pediátrico.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="1,2"></td>
            </tr>
            <tr>
                <td>Crea herramientas adecuadas para educar a usuarios(as) según promoción y prevención en salud</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="3,5"></td>
            </tr>
            <tr>
                <td>Incrementa la eficiencia y efectividad del trabajo en gestión de salud</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_1" data-competencia="4,5"></td>
            </tr>

            <!-- DOMINIO Y GESTIÓN 2 -->
            <tr>
                <td rowspan="8">DOMINIO Y GESTIÓN DE CONOCIMIENTOS GENERALES Y TÉCNICOS (PARA INTERNADO CLÍNICO II)</td>
                <td>Aplica, integra, profundiza y perfecciona los conocimientos y habilidades adquiridas.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_gestion_2" data-competencia="1,2,3,4"></td>
            </tr>
            <!-- Agregar el resto de los items de DOMINIO Y GESTIÓN 2 con sus respectivas competencias -->

            <!-- SELLO INSTITUCIONAL -->
            <tr>
                <td rowspan="5">SELLO INSTITUCIONAL</td>
                <td>Capacidad para implementar soluciones de manera creativa, innovadora y proactiva</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Capacidad para arribar a decisiones consensuadas</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional" data-competencia="5,6"></td>
            </tr>
            <tr>
                <td>Identifica las causas de los problemas de su ámbito profesional y sus posibles efectos organizacionales.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional" data-competencia="4"></td>
            </tr>
            <tr>
                <td>Busca posibles estrategias de solución a problemas de su ámbito profesional, de forma colaborativa.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional" data-competencia="4,5"></td>
            </tr>
            <tr>
                <td>Toma decisiones profesionales en equipo para solucionar problemas y hacer frente a situaciones propias del ámbito laboral.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional" data-competencia="5,6"></td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>Observaciones y/o sugerencias:</h2>
        <textarea id="observaciones"></textarea>
    </div>

    <div class="section">
        <h2>RESUMEN DE LA EVALUACIÓN:</h2>
        <table id="resumen">
            <tr>
                <th>Dimensión</th>
                <th>Ponderación</th>
                <th>Puntaje obtenido (0-4)</th>
                <th>Nota ponderada (1-7)</th>
            </tr>
            <tr>
                <td>1. Conductual y personal</td>
                <td>10%</td>
                <td id="puntaje_conductual_personal">0.00</td>
                <td id="nota_conductual_personal">1.00</td>
            </tr>
            <tr>
                <td>2. Evaluación integral; desempeño y competencias</td>
                <td>30%</td>
                <td id="puntaje_evaluacion_integral">0.00</td>
                <td id="nota_evaluacion_integral">1.00</td>
            </tr>
            <tr>
                <td>3. Dominio y Gestión de Conocimientos Generales y Técnicos</td>
                <td>50%</td>
                <td id="puntaje_dominio_gestion">0.00</td>
                <td id="nota_dominio_gestion">1.00</td>
            </tr>
            <tr>
                <td>4. Sello Institucional</td>
                <td>10%</td>
                <td id="puntaje_sello_institucional">0.00</td>
                <td id="nota_sello_institucional">1.00</td>
            </tr>
        </table>
        <p>Nota obtenida (escala 1-7): <span id="nota_final" class="nota-final">1.00</span></p>
    </div>
    <div class="correlation-section">
        <h2>Correlación con Competencias del Perfil de Egreso</h2>
        <div class="competencias-container">
            <div class="competencia-card">
                <h4>Competencia 1: Evaluación del Movimiento Humano</h4>
                <p>Evaluar las características del movimiento humano, considerando los procesos anatomofisiológicos.</p>
                <div class="progress-bar">
                    <div class="progress" id="comp1-progress">0%</div>
                </div>
            </div>

            <div class="competencia-card">
                <h4>Competencia 2: Atención Kinésica Integral</h4>
                <p>Otorgar atención kinésica integral al usuario.</p>
                <div class="progress-bar">
                    <div class="progress" id="comp2-progress">0%</div>
                </div>
            </div>

            <div class="competencia-card">
                <h4>Competencia 3: Intervención en Salud</h4>
                <p>Desarrollar intervenciones dirigidas a la promoción, prevención, recuperación y rehabilitación.</p>
                <div class="progress-bar">
                    <div class="progress" id="comp3-progress">0%</div>
                </div>
            </div>

            <div class="competencia-card">
                <h4>Competencia 4: Análisis Crítico</h4>
                <p>Realizar análisis crítico de la evidencia científica.</p>
                <div class="progress-bar">
                    <div class="progress" id="comp4-progress">0%</div>
                </div>
            </div>

            <div class="competencia-card">
                <h4>Competencia 5: Habilidades Transversales</h4>
                <p>Desarrollar habilidades transversales asociadas al liderazgo y comunicación efectiva.</p>
                <div class="progress-bar">
                    <div class="progress" id="comp5-progress">0%</div>
                </div>
            </div>

            <div class="competencia-card">
                <h4>Competencia 6: Compromiso Social</h4>
                <p>Contribuir a la sociedad mediante el compromiso con los derechos humanos.</p>
                <div class="progress-bar">
                    <div class="progress" id="comp6-progress">0%</div>
                </div>
            </div>
        </div>
    </div>

    <div class="firma">
        <p>Firma estudiante: ____________________</p>
    </div>
    <div class="firma">
        <p>Firma docente supervisor: ____________________</p>
    </div>

    <button class="no-print" onclick="window.print()">Imprimir / Guardar como PDF</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const notas = document.querySelectorAll('.nota');
            notas.forEach(nota => {
                nota.addEventListener('input', function() {
                    if (validateInput(this)) {
                        updateEvaluacion();
                        updateCompetencias();
                    }
                });
            });
        });

        function validateInput(input) {
            const value = parseFloat(input.value);
            if (isNaN(value) || value < 0 || value > 4) {
                input.classList.add('error');
                return false;
            }
            input.classList.remove('error');
            return true;
        }

        function updateEvaluacion() {
            const dimensiones = {
                conductual_personal: { sum: 0, count: 0, weight: 0.10 },
                evaluacion_integral: { sum: 0, count: 0, weight: 0.30 },
                dominio_gestion_1: { sum: 0, count: 0, weight: 0.25 },
                dominio_gestion_2: { sum: 0, count: 0, weight: 0.25 },
                sello_institucional: { sum: 0, count: 0, weight: 0.10 }
            };

            // Calcular sumas y conteos
            document.querySelectorAll('.nota').forEach(input => {
                if (input.value !== '') {
                    const dimension = input.dataset.dimension;
                    const value = parseFloat(input.value);
                    if (!isNaN(value) && value >= 0 && value <= 4) {
                        dimensiones[dimension].sum += value;
                        dimensiones[dimension].count++;
                    }
                }
            });

            // Calcular nota final
            let notaFinal = 0;
            
            // Procesar dimensiones individuales
            for (let dim in dimensiones) {
                const promedio = dimensiones[dim].count > 0 ? 
                    dimensiones[dim].sum / dimensiones[dim].count : 0;
                
                // Convertir a escala 1-7
                const nota = promedio > 0 ? ((promedio * 1.5) + 1) : 1;
                const notaPonderada = nota * dimensiones[dim].weight;

                // Actualizar elementos en la tabla de resumen
                if (dim === 'dominio_gestion_1' || dim === 'dominio_gestion_2') {
                    // Combinar las notas de dominio_gestion
                    const otherDim = dim === 'dominio_gestion_1' ? 'dominio_gestion_2' : 'dominio_gestion_1';
                    const otherPromedio = dimensiones[otherDim].count > 0 ? 
                        dimensiones[otherDim].sum / dimensiones[otherDim].count : 0;
                    const promedioTotal = (promedio + otherPromedio) / 2;
                    document.getElementById('puntaje_dominio_gestion').textContent = promedioTotal.toFixed(2);
                    document.getElementById('nota_dominio_gestion').textContent = 
                        (((promedioTotal * 1.5) + 1) * 0.5).toFixed(2);
                } else {
                    document.getElementById(`puntaje_${dim}`).textContent = promedio.toFixed(2);
                    document.getElementById(`nota_${dim}`).textContent = notaPonderada.toFixed(2);
                }

                notaFinal += notaPonderada;
            }

            // Actualizar nota final
            document.getElementById('nota_final').textContent = 
                Math.max(1, Math.min(7, notaFinal)).toFixed(2);
        }

        function updateCompetencias() {
            const competencias = {
                1: { sum: 0, count: 0 },
                2: { sum: 0, count: 0 },
                3: { sum: 0, count: 0 },
                4: { sum: 0, count: 0 },
                5: { sum: 0, count: 0 },
                6: { sum: 0, count: 0 }
            };

            document.querySelectorAll('.nota').forEach(input => {
                if (input.value !== '' && input.dataset.competencia) {
                    const value = parseFloat(input.value);
                    if (!isNaN(value) && value >= 0 && value <= 4) {
                        const comps = input.dataset.competencia.split(',');
                        comps.forEach(comp => {
                            competencias[comp].sum += value;
                            competencias[comp].count++;
                        });
                    }
                }
            });

            for (let comp in competencias) {
                const porcentaje = competencias[comp].count > 0 ?
                    (competencias[comp].sum / (competencias[comp].count * 4)) * 100 : 0;
                
                const progressBar = document.getElementById(`comp${comp}-progress`);
                progressBar.style.width = `${porcentaje}%`;
                progressBar.textContent = `${Math.round(porcentaje)}%`;

                // Asignar colores según el porcentaje
                if (porcentaje < 60) {
                    progressBar.style.backgroundColor = '#dc3545';
                } else if (porcentaje < 75) {
                    progressBar.style.backgroundColor = '#ffc107';
                } else {
                    progressBar.style.backgroundColor = '#28a745';
                }
            }
        }
    </script>
</body>
</html>
