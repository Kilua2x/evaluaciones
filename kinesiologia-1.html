<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internado Clínico - Carrera de Kinesiología - Pauta de evaluación</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        h1, h2 {
            color: #333;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 5px;
            margin: 5px 0;
        }
        textarea {
            width: 100%;
            height: 100px;
        }
        .section {
            margin-bottom: 30px;
        }
        .nota-final {
            font-weight: bold;
            font-size: 1.2em;
            color: #007bff;
        }
    </style>
</head>
<body>
    <h1>Internado Clínico</h1>
    <h2>Carrera de Kinesiología</h2>
    <h3>Pauta de evaluación</h3>

    <div class="section">
        <h2>I. Identificación del/la estudiante</h2>
        <table>
            <tr>
                <td>Nombre:</td>
                <td><input type="text" id="nombre"></td>
                <td>Fecha:</td>
                <td><input type="date" id="fecha"></td>
            </tr>
            <tr>
                <td>Servicio:</td>
                <td><input type="text" id="servicio"></td>
            </tr>
            <tr>
                <td>Campo clínico:</td>
                <td><input type="text" id="campo_clinico"></td>
            </tr>
            <tr>
                <td>Docente clínica:</td>
                <td><input type="text" id="docente_clinica"></td>
            </tr>
            <tr>
                <td>Docente universidad:</td>
                <td><input type="text" id="docente_universidad"></td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>II. Pauta de evaluación de desempeño práctica clínica V:</h2>
        <table id="evaluacion">
            <tr>
                <th>Dimensión</th>
                <th>Criterios de evaluación</th>
                <th>Niveles de logro (0-4)</th>
            </tr>
            <tr>
                <td rowspan="13">CONDUCTUAL Y PERSONAL</td>
                <td>Identifica a autoridades y personal de la institución</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Conoce el rol y las funciones de las y los diferentes integrantes del equipo de salud</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Conoce la modalidad de atención del servicio y sus derivaciones</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Conoce la ficha clínica con todos sus elementos</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Comprende el diagnóstico clínico</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Reúne información y establece prioridad en el cumplimiento del tratamiento kinésico</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Establece una relación cordial y profesional el/la usuario/a</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Cumple las normas y reglamentos establecidos por la institución de salud</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Ejecuta el tratamiento y técnicas con habilidad, aplicando los principios correspondientes</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Resuelve situaciones críticas en forma racional.</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Asiste regularmente a sus turnos (100%)</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Cumple con los horarios asignados en forma puntual</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td>Usa uniforme clínico de acuerdo con normativa de la universidad y la institución de salud</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="conductual_personal"></td>
            </tr>
            <tr>
                <td rowspan="2">EVALUACIÓN INTEGRAL; DESEMPEÑO Y COMPETENCIAS</td>
                <td>Utiliza los documentos clínicos de registro establecidos por la institución</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral"></td>
            </tr>
            <tr>
                <td>Evoluciona los registros clínicos de forma clara, legible, responsable y oportunos</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="evaluacion_integral"></td>
            </tr>
            <tr>
                <td rowspan="3">DOMINIO Y GESTIÓN DE CONOCIMIENTOS GENERALES Y TÉCNICOS</td>
                <td>Comprende la(s) principal(es) patología(s) asociadas al usuario/a</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_conocimientos"></td>
            </tr>
            <tr>
                <td>Reconoce signos y síntomas de la(s) patología(s) asociadas al/la paciente</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_conocimientos"></td>
            </tr>
            <tr>
                <td>Comprende el fundamento del tratamiento kinésico</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="dominio_conocimientos"></td>
            </tr>
            <tr>
                <td rowspan="3">SELLO INSTITUCIONAL</td>
                <td>Trata de manera respetuosa a los/as usuarios/as asignados</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional"></td>
            </tr>
            <tr>
                <td>Actúa de acuerdo con las observaciones realizadas por el/la supervisor/a de prácticas</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional"></td>
            </tr>
            <tr>
                <td>Tiene un comportamiento pertinente con el equipo de salud y personal de la institución de salud</td>
                <td><input type="number" min="0" max="4" step="1" class="nota" data-dimension="sello_institucional"></td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>Observaciones y/o sugerencias:</h2>
        <textarea id="observaciones"></textarea>
    </div>

    <div class="section">
        <h2>RESUMEN DE LA EVALUACIÓN:</h2>
        <table id="resumen">
            <tr>
                <th>Dimensión</th>
                <th>Ponderación</th>
                <th>Puntaje obtenido (0-4)</th>
                <th>Nota ponderada (1-7)</th>
            </tr>
            <tr>
                <td>1. Conductual y personal</td>
                <td>10%</td>
                <td id="puntaje_conductual_personal"></td>
                <td id="nota_conductual_personal"></td>
            </tr>
            <tr>
                <td>2. Evaluación integral; desempeño y competencias</td>
                <td>30%</td>
                <td id="puntaje_evaluacion_integral"></td>
                <td id="nota_evaluacion_integral"></td>
            </tr>
            <tr>
                <td>3. Dominio Y Gestión De Conocimientos Generales Y Técnicos</td>
                <td>50%</td>
                <td id="puntaje_dominio_conocimientos"></td>
                <td id="nota_dominio_conocimientos"></td>
            </tr>
            <tr>
                <td>4. Sello Institucional</td>
                <td>10%</td>
                <td id="puntaje_sello_institucional"></td>
                <td id="nota_sello_institucional"></td>
            </tr>
        </table>
        <p>Nota obtenida (escala 1-7): <span id="nota_final" class="nota-final"></span></p>
    </div>

    <script>
        const notas = document.querySelectorAll('.nota');
        const puntajes = {
            conductual_personal: 0,
            evaluacion_integral: 0,
            dominio_conocimientos: 0,
            sello_institucional: 0
        };

        const ponderaciones = {
            conductual_personal: 0.1,
            evaluacion_integral: 0.3,
            dominio_conocimientos: 0.5,
            sello_institucional: 0.1
        };

        function actualizarPuntajes() {
            let notaFinal = 0;

            for (const dimension in puntajes) {
                const notasDimension = document.querySelectorAll(`.nota[data-dimension="${dimension}"]`);
                let suma = 0;
                let contador = 0;
                notasDimension.forEach(nota => {
                    const valor = parseFloat(nota.value);
                    if (!isNaN(valor) && valor !== 0) {
                        suma += valor;
                        contador++;
                    }
                });
                if (contador > 0) {
                    puntajes[dimension] = suma / contador;
                } else {
                    puntajes[dimension] = 0;
                }
                const puntajeElement = document.getElementById(`puntaje_${dimension}`);
                const notaElement = document.getElementById(`nota_${dimension}`);
                if (puntajeElement) puntajeElement.textContent = puntajes[dimension].toFixed(2);
                
                // Convertir puntaje (0-4) a nota (1-7) y aplicar ponderación
                const notaDimension = ((puntajes[dimension] * 1.5) + 1) * ponderaciones[dimension];
                if (notaElement) notaElement.textContent = notaDimension.toFixed(2);
                
                notaFinal += notaDimension;
            }

            // Asegurar que la nota final esté en el rango 1-7
            notaFinal = Math.max(1, Math.min(7, notaFinal));
            
            document.getElementById('nota_final').textContent = notaFinal.toFixed(2);

            // Verificar si alguna nota es inferior a 4.0 en la escala 1-7
            let reprobado = false;
            notas.forEach(nota => {
                const valor = parseFloat(nota.value);
                if (!isNaN(valor) && valor !== 0) {
                    const notaEscala17 = Math.min(Math.max((valor * 1.5) + 1, 1), 7);
                    if (notaEscala17 < 4.0) {
                        reprobado = true;
                    }
                }
            });

            if (reprobado) {
                alert('El estudiante ha reprobado el Internado Clínico debido a que tiene al menos un ítem con nota inferior a 4.0');
            }
        }

        notas.forEach(nota => {
            nota.addEventListener('input', actualizarPuntajes);
        });

        // Llamar a la función una vez al inicio para mostrar los valores iniciales
        actualizarPuntajes();
    </script>
</body>
</html>